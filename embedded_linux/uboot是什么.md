# 1 uboot 和内核到底是什么
## 1.1 uboot是一个裸机程序
1. uboot本质是一个复杂点的裸机程序，和其他裸机程序没有本质区别
## 1.2 内核本身也是一个裸机程序
1. 操作系统本身也是一个裸机程序
2. 区别是操作系统运行起来后软件上分为内核层和应用层。分层后两者权限不同，内存访问和设备管理更精细。（内核可以随便访问各种硬件，而应用程序只能被限制的访问硬件和内存地址）  
  
直观来看：uboot的镜像是u-boot.bin，linux系统的镜像是zImage。这两个东西其实都是两个裸机镜像。从系统启动角度来讲，内核就是是一个大的、复杂的裸机程序
# 部署在SD卡上中特定的分区内
1. 一个完整的软件+硬件的嵌入式操作系统静止时(未上电时)，bootloader、kernel、rootfs等必须的软件都以镜像的方式存储在启动介质中（falsh、SD card）。
2. 运行时都是在内存中，与存储介质无关。
3. 上面两个时静态，第三个时动态，即从静止态到运行态的过程，也就是启动过程。
4. 静止时，u-boot.bin zImage rootfs都在SD卡中。他们不可能随意存在SD卡的任意位置，因此需要对SD卡进行分区。然后将各种镜像各自存在各自的分区中。
# 运行时必须先还在带DDR中点解地址处
1. uboot第一阶段进行重定位，第二阶段将整个uboot镜像加载到0x81700000，这个地址就是uboot的链接地址。
2. kernel也有类似的要求，uboot将内核从SD卡读到DDR中，不能随意放，必须放在内核的链接地址中，否则启动不起来。
# 内核启动需要必要的启动参数
1. uboot时无条件启动的，从零开始启动的。
2. 内核不能从0开始启动，uboot帮内核从定位(从SD卡到DDR)。uboot还要给内核提供启动参数。
# 启动内核的第一步：加载到ddr中
1. 将将镜像从SD卡加载到DDR中
2. 去DDR中启动镜像。内核代码根本没考虑重定位，内核直接就是从链接地址中启动。
# 静态镜像在哪里
1. SD卡、iNand、Nand、NorFlash
2. 读取镜像要使用uboot的命令
# tftp、nfs的网络下载的方式启动内核
# 镜像要放在DDR的什么位置
1. 内核一定要放在链接地址处。链接地址去内核源代码的链接脚本或者Makefile中查找。